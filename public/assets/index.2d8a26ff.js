var z=Object.defineProperty,R=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var Y=(e,t,o)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,u=(e,t)=>{for(var o in t||(t={}))Q.call(t,o)&&Y(e,o,t[o]);if(H)for(var o of H(t))X.call(t,o)&&Y(e,o,t[o]);return e},w=(e,t)=>R(e,J(t));import{m as L,a as P,b as $,c,d as n,w as y,v as U,e as B,f as _,n as W,t as d,F as g,o as i,p as O,g as V,r as S,h as k,i as h,j as b,k as q,T as j,l as f,_ as Z,q as ee,s as te,u as A,x as D,y as se,z as oe,A as ne}from"./vendor.a4b8ffa9.js";const ae=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}};ae();var p=(e,t)=>{const o=e.__vccOpts||e;for(const[l,s]of t)o[l]=s;return o};const re={name:"Login",data(){return{inputUsername:"",inputPassword:"",showLoginInput:!1}},computed:u({},L(["username"])),watch:{showLoginInput(e){e&&window.innerWidth<=500?this.preventScrolling():this.enableScrolling()}},methods:w(u(u({},P(["login","logout"])),$(["setShowMessages"])),{async loginFormSubmit(e){e.preventDefault();const t=document.getElementById("username"),o=document.getElementById("password");try{await this.login({username:this.inputUsername,password:this.inputPassword}),this.inputUsername="",this.inputPassword="",this.showLoginInput=!1}catch(l){t.setCustomValidity(l.request.response),t.reportValidity(),t.setCustomValidity(""),o.setCustomValidity("")}},preventScroll(e){return e.preventDefault(),e.stopPropagation(),!1},preventScrolling(){document.getElementsByTagName("BODY")[0].addEventListener("wheel",this.preventScroll,{passive:!1})},enableScrolling(){document.getElementsByTagName("BODY")[0].removeEventListener("wheel",this.preventScroll)}})},le=e=>(O("data-v-727b0724"),e=e(),V(),e),ie={key:0,type:"submit"},ce=le(()=>n("span",{class:"fa fa-times"},null,-1)),de=[ce],ue={class:"user"};function he(e,t,o,l,s,r){return i(),c(g,null,[n("div",{class:W({login:!0,loginHide:!s.showLoginInput})},[y(n("form",{onSubmit:t[3]||(t[3]=(...a)=>r.loginFormSubmit&&r.loginFormSubmit(...a))},[y(n("input",{type:"text",name:"username",id:"username",required:"","onUpdate:modelValue":t[0]||(t[0]=a=>s.inputUsername=a),placeholder:"username"},null,512),[[B,s.inputUsername]]),y(n("input",{type:"password",name:"password",id:"password",required:"","onUpdate:modelValue":t[1]||(t[1]=a=>s.inputPassword=a),placeholder:"password"},null,512),[[B,s.inputPassword]]),s.showLoginInput?(i(),c("button",ie,"login")):(i(),c("button",{key:1,class:"show-login-btn desktop",onClick:t[2]||(t[2]=a=>s.showLoginInput=!0)}," login "))],544),[[U,e.username===""]]),s.showLoginInput&&e.username===""?(i(),c("button",{key:0,class:"close",onClick:t[4]||(t[4]=a=>s.showLoginInput=!1)},de)):_("",!0)],2),!s.showLoginInput&&e.username===""?(i(),c("button",{key:0,class:"show-login-btn mobile",onClick:t[5]||(t[5]=a=>s.showLoginInput=!0)}," login ")):_("",!0),y(n("div",ue,[n("p",{onClick:t[6]||(t[6]=a=>e.setShowMessages(!0))},d(e.username),1),n("button",{onClick:t[7]||(t[7]=a=>{e.logout(),s.showLoginInput=!1})}," Log Out ")],512),[[U,e.username!=""]])],64)}var me=p(re,[["render",he],["__scopeId","data-v-727b0724"]]);const _e={name:"Forecast",props:{forecast:Array},methods:{calcTemp(e){return Math.round(Number(e)-273.15)},getIconUrl(e){return`http://openweathermap.org/img/w/${e}.png`}}},pe=e=>(O("data-v-0e0d6b16"),e=e(),V(),e),ge={class:"forecast"},fe=k(" \xA0 5 day forecast "),ve=pe(()=>n("hr",null,null,-1)),we={key:"day.dt"},ye={key:"day.dt"},be={key:"day.dt"},xe=["src"],Se={key:"day.dt"};function ke(e,t,o,l,s,r){return i(),c("div",ge,[fe,ve,n("table",null,[n("tr",null,[(i(!0),c(g,null,S(o.forecast,a=>(i(),c("th",we,d(a.day),1))),128))]),n("tr",null,[(i(!0),c(g,null,S(o.forecast,a=>(i(),c("td",ye,d(r.calcTemp(a.main.temp))+"\xB0 ",1))),128))]),n("tr",null,[(i(!0),c(g,null,S(o.forecast,a=>(i(),c("td",be,[n("img",{src:r.getIconUrl(a.weather[0].icon),alt:""},null,8,xe)]))),128))]),n("tr",null,[(i(!0),c(g,null,S(o.forecast,a=>(i(),c("td",Se,d(a.weather[0].main),1))),128))])])])}var Ie=p(_e,[["render",ke],["__scopeId","data-v-0e0d6b16"]]);const $e={name:"WeatherCard",components:{Forecast:Ie},data(){return{weather:{},showForecast:!1}},methods:{calcTemp(e){return Math.round(Number(e)-273.15)},calcWindSpeed(e){return Math.round(e*3.6*10)/10},getIconUrl(e){return`http://openweathermap.org/img/w/${e}.png`},calcWindDirection(e){var t=Math.floor(e/22.5+.5),o=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"];return o[t%16]},toggleShowForecast(){this.weather.forecast||this.fetchForecast().catch(e=>console.log(e)),this.showForecast=!this.showForecast},async fetchWeather(){try{const e=await h.get("https://api.openweathermap.org/data/2.5/weather/?q=gudovac&appid=524464013431281f7aabe3e488765d52");this.weather=await e.data}catch(e){console.log(e)}},async fetchForecast(){const e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=[];try{const l=await(await h.get("https://api.openweathermap.org/data/2.5/forecast/?q=gudovac&appid=524464013431281f7aabe3e488765d52")).data;if(typeof l!="undefined"){for(let s=7;s<=l.list.length;s+=8){let r=new Date(l.list[s].dt_txt);l.list[s].day=e[r.getDay()],t.push(l.list[s])}this.weather.forecast=t}else throw"problem with fetching forecast"}catch(o){console.log(o)}}},created(){this.fetchWeather()}},N=e=>(O("data-v-95b21f6c"),e=e(),V(),e),Ce={key:0,class:"card"},Le={class:"header-left"},Ue={class:"header-right"},Ee=["src"],Me=N(()=>n("div",{style:{clear:"both"}},null,-1)),Te={class:"weather-main"},Fe={class:"main-temp"},De={class:"main-right"},Ne=N(()=>n("br",null,null,-1)),Pe=N(()=>n("br",null,null,-1)),Be=N(()=>n("br",null,null,-1)),We=N(()=>n("div",{style:{clear:"both"}},null,-1));function Oe(e,t,o,l,s,r){const a=f("forecast");return s.weather.name?(i(),c("div",Ce,[n("div",Le,[n("b",null,d(s.weather.name),1),k(" , "+d(s.weather.weather[0].description),1)]),n("div",Ue,[n("img",{src:r.getIconUrl(s.weather.weather[0].icon),alt:""},null,8,Ee)]),Me,n("div",Te,[n("div",Fe,d(r.calcTemp(s.weather.main.temp))+"\xB0",1),n("div",De,[k(" Feels Like: "+d(r.calcTemp(s.weather.main.feels_like))+" \xB0C ",1),Ne,k(" Pressure:"+d(s.weather.main.pressure)+" hPa ",1),Pe,k(" Humidity: "+d(s.weather.main.humidity)+" % ",1),Be,k(" Wind: "+d(r.calcWindSpeed(s.weather.wind.speed))+" km/h, "+d(r.calcWindDirection(s.weather.wind.deg)),1)])]),n("div",{class:"show-forecast-btn",onClick:t[0]||(t[0]=(...v)=>r.toggleShowForecast&&r.toggleShowForecast(...v))},[n("div",{class:W(s.showForecast?"forecast-icon-minus":"forecast-icon")},null,2)]),We,b(j,null,{default:q(()=>[y(b(a,{forecast:s.weather.forecast},null,8,["forecast"]),[[U,s.showForecast]])]),_:1})])):_("",!0)}var Ve=p($e,[["render",Oe],["__scopeId","data-v-95b21f6c"]]);const Ae={},qe={class:"close-icon"};function He(e,t,o,l,s,r){return i(),c("div",qe)}var G=p(Ae,[["render",He],["__scopeId","data-v-2eb9cc04"]]);const Ye={name:"Messages",components:{CloseIcon:G},data(){return{messageText:""}},computed:w(u({},L(["messages","username","showMessages"])),{messagesIsEmpty(){return Z.isEmpty(this.messages)}}),methods:u({},$(["setChatUsername","setShowMessages","setShowUsers"])),created(){}},je={key:0,class:"message-container"},Ge={class:"messages-header"},Ke=k(" messages "),ze=["onClick"],Re={class:"username"},Je={class:"text"},Qe={key:0};function Xe(e,t,o,l,s,r){return e.showMessages?(i(),c("div",je,[n("div",Ge,[Ke,n("i",{class:"fa fa-close",onClick:t[0]||(t[0]=a=>e.setShowMessages(!1))})]),(i(!0),c(g,null,S(e.messages,(a,v)=>(i(),c("div",{class:"message",onClick:M=>e.setChatUsername(v)},[n("span",Re,[n("b",null,d(v)+":",1)]),n("span",Je,d(a[a.length-1].text),1)],8,ze))),256)),r.messagesIsEmpty?(i(),c("div",Qe,"no messages")):_("",!0),n("i",{class:"start-chat fa fa-plus",onClick:t[1]||(t[1]=a=>e.setShowUsers(!0))})])):_("",!0)}var Ze=p(Ye,[["render",Xe],["__scopeId","data-v-868bafb4"]]);const et="http://houseweb.herokuapp.com/",tt="http://localhost:5000/";var C={host:et,host1:tt},E=ee({state:{schedule:{},username:"",messages:{},chatUsername:null,showMessages:!1,showUsers:!1,showLightbox:!1,lightboxIndex:0,scrollPosition:0,users:{},images:[]},getters:{schedule:e=>e.schedule,scheduleById:e=>t=>{let o=null;return Object.entries(e.schedule).forEach(([l,s])=>{s.forEach(r=>{r._id===t&&(o=r)})}),o},username:e=>e.username,messages:e=>e.messages,chatUsername:e=>e.chatUsername,showMessages:e=>e.showMessages,users:e=>e.users,showUsers:e=>e.showUsers,showLightbox:e=>e.showLightbox,scrollPosition:e=>e.scrollPosition,lightboxIndex:e=>e.lightboxIndex,images:e=>e.images},actions:{async fetchSchedule({commit:e}){try{const t=await h.get(`${C.host}api/schedule`);e("addSchedule",t.data)}catch(t){console.log(t.message)}},async fetchImages({commit:e}){try{const t=await h.get(`${C.host}api/images`);e("addImages",t.data)}catch(t){console.log("fetchImage error -> "+t.message)}},async addToSchedule({commit:e},t){try{t.date.setHours(0,0,0,0);const o=w(u({},t),{username:this.state.username}),l=await h.post(`${C.host}api/schedule`,o);e("addToSchedule",l.data)}catch(o){console.log("addToSchedule error -> "+o.message)}},async editNote({commit:e},t){try{const o=await h.put(`${C.host}api/schedule`,t)}catch(o){console.log("editNote error -> "+o)}},async deleteFromSchedule({commit:e},t){if(confirm("are you shure?"))try{const o=await h.delete(`${C.host}api/schedule/${t}`);e("deleteFromSchedule",t)}catch(o){console.log(`deleteFromSchedule error -> ${o.message}`)}},async login({commit:e,dispatch:t},o){try{const l=await h.post(`${C.host}api/auth`,o),s=l.headers["x-auth-token"];localStorage.setItem("x-auth-token",s),localStorage.setItem("username",l.data.username),h.defaults.headers.post["x-auth-token"]=s,h.defaults.headers.delete["x-auth-token"]=s,h.defaults.headers.put["x-auth-token"]=s,e("setUsername",l.data.username),x.auth.token=s,x.connect()}catch(l){if(l.request!=null)throw console.log("response :"+l.request.response),l;console.log(l)}},logout({commit:e}){e("setUsername",""),e("addMessages",null),e("setShowMessages",!1),e("setChatUsername",null),localStorage.removeItem("x-auth-token"),delete h.defaults.headers.post["x-auth-token"],delete h.defaults.headers.delete["x-auth-token"],delete h.defaults.headers.put["x-auth-token"],x.auth.token=null,x.close()}},mutations:{addSchedule(e,t){const o=(l,s)=>l.reduce((r,a)=>w(u({},r),{[a[s]]:[...r[a[s]]||[],a]}),{});e.schedule=o(t,"date")},addToSchedule(e,t){Object.keys(e.schedule).includes(t.date)?e.schedule[t.date].push(t):e.schedule[t.date]=[t]},addImages(e,t){t.forEach(o=>{let l=String(o).slice(-9);e.images.push(`${C.host}${l}`)})},setUsername(e,t){e.username=t},editSchedule(e,t){let o=this.scheduleById(t.id);o.text=t.tex},deleteFromSchedule(e,t){Object.entries(e.schedule).forEach(([o,l])=>{l.forEach(s=>{s._id===t&&(e.schedule[o].splice(l.indexOf(s),1),e.schedule[o].length===0&&delete e.schedule[o])})})},addMessages(e,t){e.messages=t},addMessage(e,t){t.from===e.username?e.messages[t.to]?e.messages[t.to].push(t):e.messages[t.to]=[t]:e.messages[t.from]?e.messages[t.from].push(t):e.messages[t.from]=[t]},setChatUsername(e,t){e.chatUsername=t,e.chatUsername!=null&&(e.showSchedule=!1)},setShowMessages(e,t){e.showMessages=t,e.showMessages==!0&&(e.showSchedule=!1)},addUsers(e,t){e.users=t},updateUserStatus(e,t){try{console.log("update status 4 "+t.username+" : "+t.status);const o=e.users.findIndex(l=>l.username===t.username);e.users[o].isConnected=t.status}catch(o){console.log(o.message)}},setShowUsers(e,t){e.showUsers=t},setShowLightbox(e,t){e.showLightbox=t},setscrollPosition(e,t){e.scrollPosition=t},setLightboxIndex(e,t){e.lightboxIndex=t}}});const st=(e,t)=>{const o={};return e.map(l=>{l.from!=t?o[l.from]=[...o[l.from]||[],l]:o[l.to]=[...o[l.to]||[],l]}),o},x=te(C.host,{auth:{token:localStorage.getItem("x-auth-token")}});x.on("connect_error",e=>{console.log(e.message)});x.on("connected",e=>{E.commit("addMessages",st(e.messages,E.state.username)),E.commit("addUsers",e.users)});x.on("message",e=>{E.commit("addMessage",e)});x.on("newUserConnected",e=>{E.commit("updateUserStatus",{username:e,status:!0})});x.on("disconnected",e=>{E.commit("updateUserStatus",{username:e,status:!1}),console.log(e+" disconnected")});const ot={data(){return{messageText:""}},components:{CloseIcon:G},computed:u({},L(["messages","username","chatUsername"])),methods:w(u({},$(["setChatUsername"])),{sendMessage(){x.emit("postMessage",{to:this.chatUsername,text:this.messageText}),this.messageText=""}}),watch:{chatUsername(){const e=document.getElementById("chatDiv");e&&(e.scrollTop=e.scrollHeight)}},mounted(){var e=this;this.$refs.chatInputField.addEventListener("keyup",function(t){(t.code==="Enter"||t.code==="NumpadEnter")&&e.sendMessage()})},updated(){const e=document.getElementById("chatDiv");e&&(e.scrollTop=e.scrollHeight)}},nt={class:"chat-container"},at={class:"chat-header"},rt={class:"chat",id:"chatDiv"},lt={class:"chat-input-form"};function it(e,t,o,l,s,r){return y((i(),c("div",nt,[n("div",at,[n("span",null,d(e.username)+"\xA0\u2190\u2192\xA0"+d(e.chatUsername),1),n("i",{class:"fa fa-close",onClick:t[0]||(t[0]=a=>e.setChatUsername(null))})]),n("div",rt,[(i(!0),c(g,null,S(e.messages[e.chatUsername],a=>(i(),c("div",{class:W(["chat-message",a.from===e.username?"chat-message-left":"chat-message-right"])},d(a.text),3))),256))]),n("div",lt,[y(n("input",{type:"text",ref:"chatInputField","onUpdate:modelValue":t[1]||(t[1]=a=>s.messageText=a)},null,512),[[B,s.messageText]]),n("button",{onClick:t[2]||(t[2]=(...a)=>r.sendMessage&&r.sendMessage(...a)),ref:"sendBtn"},"send",512)])],512)),[[U,e.chatUsername]])}var ct=p(ot,[["render",it],["__scopeId","data-v-3032688b"]]);const dt={computed:u({},L(["users","username","showUsers"])),methods:u({},$(["setShowUsers","setChatUsername"]))},ut={key:0,class:"users-container"},ht={class:"users"},mt=["onClick"];function _t(e,t,o,l,s,r){return i(),A(j,null,{default:q(()=>[e.username&&e.showUsers?(i(),c("div",ut,[n("div",ht,[n("i",{class:"fa fa-close",onClick:t[0]||(t[0]=a=>e.setShowUsers(!1))}),(i(!0),c(g,null,S(e.users,a=>(i(),c("div",{class:W(["user",a.isConnected?"user-online":""]),onClick:v=>e.setChatUsername(a.username)},d(a.username),11,mt))),256))])])):_("",!0)]),_:1})}var pt=p(dt,[["render",_t],["__scopeId","data-v-5d25e1ac"]]);const gt={props:{text:String}},ft={class:"show-btn"};function vt(e,t,o,l,s,r){return i(),c("div",ft,d(o.text),1)}var wt=p(gt,[["render",vt],["__scopeId","data-v-7fab9b97"]]);const yt={data(){return{text:""}},props:{date:{type:Date,required:!0}},methods:w(u({},P(["addToSchedule"])),{save(e){this.text!=""&&(this.addToSchedule({date:this.date,text:this.text}),this.text="",this.$emit("close-form"))}})},bt={class:"input"},xt={action:""},St={class:"form-date"};function kt(e,t,o,l,s,r){return i(),c("div",bt,[n("form",xt,[n("div",St,d(String(o.date.getDate()).padStart(2,"0"))+" "+d(String(o.date.getMonth()+1).padStart(2,"0"))+" "+d(o.date.getFullYear()),1),y(n("textarea",{name:"form-text","onUpdate:modelValue":t[0]||(t[0]=a=>s.text=a),class:"form-text"},null,512),[[B,s.text]]),n("button",{class:"form-btn",onClick:t[1]||(t[1]=D(a=>r.save(),["prevent"]))},"Save"),n("button",{onClick:t[2]||(t[2]=D(a=>e.$emit("close-form"),["prevent"]))},"Close")])])}var It=p(yt,[["render",kt],["__scopeId","data-v-af6a1cdc"]]);const $t={name:"Schedule",components:{DatePicker:se,ButtonNormal:wt,ScheduleInputForm:It},data(){return{date:null,show:!1,showDatePicker:!1,editableId:null,oldText:""}},computed:u({},L(["schedule","username","getShowSchedule"])),methods:w(u(u({},P(["deleteFromSchedule","editNote"])),$(["setShowSchedule"])),{editInSchedule(e){const t=document.getElementById(e);t.contentEditable=!0,t.classList.add("note-text-edit"),this.editableId=e,this.oldText=t.innerHTML},save(e){const t=document.getElementById(e),o=t.innerHTML.replace(/\u00a0/g," ");t.contentEditable=!1,t.classList.remove("note-text-edit"),this.editableId=null,this.oldText="";try{this.editNote({id:e,text:o})}catch(l){console.log(l)}},cancel(e){const t=document.getElementById(e);t.innerHTML=this.oldText,t.contentEditable=!1,t.classList.remove("note-text-edit"),this.editableId=null,this.oldText=""}})},Ct={class:"schedule",id:"schedule"},Lt={class:"notes",key:"notes"},Ut={class:"day"},Et={class:"day-date"},Mt={class:"note"},Tt={class:"note-header"},Ft={class:"note-username"},Dt={class:"note-icons"},Nt=["onClick"],Pt=["onClick"],Bt=["onClick"],Wt=["onClick"],Ot=["id"];function Vt(e,t,o,l,s,r){const a=f("button-normal"),v=f("DatePicker"),M=f("ScheduleInputForm");return i(),c("div",Ct,[b(oe,null,{default:q(()=>[e.username?(i(),A(a,{key:"buttonNormal",text:"Pick a Date",onClick:t[0]||(t[0]=I=>s.showDatePicker=!s.showDatePicker)})):_("",!0),s.showDatePicker&&e.username?(i(),A(v,{key:"datePicker",modelValue:s.date,"onUpdate:modelValue":t[1]||(t[1]=I=>s.date=I),color:"blue","is-dark":""},null,8,["modelValue"])):_("",!0),s.date&&e.username?(i(),A(M,{key:"scheduleInputForm",date:s.date,onCloseForm:t[2]||(t[2]=I=>s.date=null)},null,8,["date"])):_("",!0),n("div",Lt,[(i(!0),c(g,null,S(e.schedule,(I,T)=>(i(),c("div",Ut,[n("div",Et,d(new Date(T).getDate())+". "+d(new Date(T).getMonth()+1)+". "+d(new Date(T).getFullYear())+". ",1),(i(!0),c(g,null,S(I,m=>(i(),c("div",Mt,[n("div",Tt,[n("span",Ft,d(m.username)+" :",1),n("span",Dt,[e.username===m.username&&s.editableId===m._id?(i(),c("i",{key:0,onClick:F=>r.save(m._id),class:"fa fa-save"},null,8,Nt)):_("",!0),e.username===m.username&&s.editableId===m._id?(i(),c("i",{key:1,onClick:F=>r.cancel(m._id),class:"fa fa-times"},null,8,Pt)):_("",!0),e.username===m.username&&s.editableId!=m._id?(i(),c("i",{key:2,onClick:F=>r.editInSchedule(m._id),class:"fa fa-edit"},null,8,Bt)):_("",!0),e.username===m.username?(i(),c("i",{key:3,onClick:F=>e.deleteFromSchedule(m._id),class:"fa fa-trash"},null,8,Wt)):_("",!0)])]),n("span",{class:"note-text",id:m._id},d(m.text.replace(/Â /g," ")),9,Ot)]))),256))]))),256))])]),_:1})])}var At=p($t,[["render",Vt],["__scopeId","data-v-ca57d37a"]]);const qt={props:{images:{type:Array,required:!0}},computed:w(u({},L(["showLightbox","scrollPosition","lightboxIndex"])),{hasNext(){return this.lightboxIndex+1<this.images.length},hasPrev(){return this.lightboxIndex-1>=0}}),watch:{showLightbox(e){document.getElementById("lightbox").style.top=this.scrollPosition+"px",e?this.preventScrolling():this.enableScrolling()}},methods:w(u({},$(["setShowLightbox","setLightboxIndex"])),{preventScroll(e){return e.preventDefault(),e.stopPropagation(),!1},preventScrolling(){document.getElementsByTagName("BODY")[0].addEventListener("wheel",this.preventScroll,{passive:!1})},enableScrolling(){document.getElementsByTagName("BODY")[0].removeEventListener("wheel",this.preventScroll)},show(e){this.setLightboxIndex(e)},hide(){this.setShowLightbox(!1),this.setLightboxIndex(0)},next(){this.hasNext&&this.setLightboxIndex(this.lightboxIndex+1)},prev(){this.hasPrev&&this.setLightboxIndex(this.lightboxIndex-1)},onKeydown(e){if(this.showLightbox)switch(e.key){case"ArrowRight":this.next();break;case"ArrowLeft":this.prev();break;case"ArrowUp":case"ArrowDown":case" ":e.preventDefault();break;case"Escape":this.hide();break}}}),mounted(){window.addEventListener("keydown",this.onKeydown)},destroyed(){window.removeEventListener("keydown",this.onKeydown)}},Ht={class:"image-container"},Yt={class:"prev"},jt=["src"],Gt={class:"next"};function Kt(e,t,o,l,s,r){return y((i(),c("div",{class:"lightbox",id:"lightbox",onClick:t[4]||(t[4]=(...a)=>r.hide&&r.hide(...a))},[n("div",Ht,[n("div",{class:"close",onClick:t[0]||(t[0]=(...a)=>r.hide&&r.hide(...a))},"\xD7"),n("div",Yt,[y(n("span",{onClick:t[1]||(t[1]=D((...a)=>r.prev&&r.prev(...a),["stop"]))},"\u276E",512),[[U,r.hasPrev]])]),n("img",{class:"image",src:o.images[e.lightboxIndex],alt:"",onClick:t[2]||(t[2]=D(()=>{},["stop"]))},null,8,jt),n("div",Gt,[y(n("span",{onClick:t[3]||(t[3]=D((...a)=>r.next&&r.next(...a),["stop"]))},"\u276F",512),[[U,r.hasNext]])])])],512)),[[U,e.showLightbox]])}var zt=p(qt,[["render",Kt],["__scopeId","data-v-79d60f47"]]);const Rt={components:{Lightbox:zt},computed:u({},L(["images"])),methods:w(u({},$(["setShowLightbox","setscrollPosition","setLightboxIndex"])),{show(e){this.setLightboxIndex(e),this.setShowLightbox(!0),this.setscrollPosition(document.documentElement.scrollTop||document.body.scrollTop)}})},K=e=>(O("data-v-4eeec204"),e=e(),V(),e),Jt=K(()=>n("div",{class:"images-header"},"images",-1)),Qt={class:"image-container"},Xt=["onClick","src"],Zt=K(()=>n("div",{class:"images-footer"},null,-1));function es(e,t,o,l,s,r){const a=f("lightbox");return i(),c(g,null,[Jt,n("div",Qt,[(i(!0),c(g,null,S(e.images,(v,M)=>(i(),c("img",{onClick:I=>r.show(M),class:"image",src:v,alt:""},null,8,Xt))),256))]),Zt,b(a,{images:e.images},null,8,["images"])],64)}var ts=p(Rt,[["render",es],["__scopeId","data-v-4eeec204"]]);const ss={components:{WeatherCard:Ve,Login:me,Messages:Ze,Chat:ct,Users:pt,Schedule:At,ImageGallery:ts},methods:u(u({},P(["fetchSchedule","fetchImages"])),$(["setUsername"])),created(){this.fetchSchedule(),this.fetchImages();const e=localStorage.getItem("x-auth-token"),t=localStorage.getItem("username");e&&t&&(this.setUsername(t),h.defaults.headers.post["x-auth-token"]=e,h.defaults.headers.delete["x-auth-token"]=e,h.defaults.headers.put["x-auth-token"]=e)}},os={class:"container"},ns={class:"showcase"},as=n("h1",null,"house web",-1),rs=n("a",{href:"#schedule"},[n("div",{class:"scroll-to-schedule-icon"})],-1),ls=n("div",{class:"footer"},[k(" Copyright \xA9 2022 by mato "),n("br"),k(" All rights reserved ")],-1);function is(e,t,o,l,s,r){const a=f("login"),v=f("WeatherCard"),M=f("users"),I=f("messages"),T=f("chat"),m=f("schedule"),F=f("image-gallery");return i(),c("div",os,[b(a),n("div",ns,[as,b(v),rs,b(M)]),b(I),b(T),b(m),b(F),ls])}var cs=p(ss,[["render",is]]);ne(cs).use(E,x).mount("#app");
